<!-- pages/login/login.wxml -->
<view class="container">
  <!-- 登录表单容器 -->
  <view class="login-form">
    <!-- 页面标题 -->
    <view class="form-title">
      <text>欢迎登录</text>
    </view>
    
    <!-- 错误提示 -->
    <view wx:if="{{errorMsg}}" class="error-tip">
      {{errorMsg}}
    </view>
    
    <!-- 用户名输入框 -->
    <view class="input-item">
      <view class="input-icon">
        <image src="/images/user.png" mode="aspectFit"></image>
      </view>
      <input 
        type="text" 
        placeholder="请输入用户名"
        value="{{username}}"
        bindinput="onUsernameInput"
        class="input-text"
      />
    </view>
    
    <!-- 密码输入框 -->
    <view class="input-item">
      <view class="input-icon">
        <image src="/images/lock.png" mode="aspectFit"></image>
      </view>
      <input 
        type="password" 
        placeholder="请输入密码"
        value="{{password}}"
        bindinput="onPasswordInput"
        class="input-text"
      />
    </view>
    
    <!-- 登录按钮 -->
    <button 
      class="login-btn"
      bindtap="doLogin"
      loading="{{loading}}"
      disabled="{{loading}}"
    >
      登录
    </button>
    
    <!-- 微信登录 -->
    <view class="wechat-login" bindtap="wechatLogin">
      <image src="/images/wechat.png" mode="aspectFit"></image>
      <text>微信一键登录</text>
    </view>
    
    <!-- 辅助链接 -->
    <view class="helper-links">
      <text bindtap="goToRegister">注册账号</text>
      <text class="separator">|</text>
      <text bindtap="goToForgotPassword">忘记密码</text>
    </view>
  </view>
  
  <!-- 用户信息区域（仅在已登录时显示） -->
  <view wx:if="{{canIUseGetUserProfile && userInfo}}" class="user-info">
    <image src="{{userInfo.avatarUrl}}" mode="aspectFit"></image>
    <text>{{userInfo.nickName}}</text>
  </view>
</view>